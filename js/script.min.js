var currentLocation=window.location;function writeUs(){var e=document.querySelector(".contacts__btn"),a=document.querySelector(".modal.write-us"),t=a.querySelector(".btn-modal-close"),l=a.querySelector("[name=name]"),r=a.querySelector("[name=email]"),s=a.querySelector("[name=text]"),n=a.querySelectorAll("form [required]"),c=!0,o="",d="";try{o=localStorage.getItem("nameField"),d=localStorage.getItem("emailField")}catch(e){c=!1}e.addEventListener("click",function(e){e.preventDefault(),a.classList.add("modal__show"),o?l.value=o:l.focus(),d&&(r.value=d),o&&!d&&r.focus(),o&&d&&s.focus()}),t.addEventListener("click",function(e){e.preventDefault(),a.classList.remove("modal__show"),a.classList.remove("modal-error")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),a.classList.contains("modal__show")&&(a.classList.remove("modal__show"),a.classList.remove("modal-error")))}),sendForm.addEventListener("click",function(e){if(l.value&&r.value&&s.value){c&&(localStorage.setItem("nameField",l.value),localStorage.setItem("emailField",r.value));for(var t=0;t<n.length;t++)n[t].classList.remove("empty-field")}else{e.preventDefault(),a.classList.remove("modal-error"),a.offsetWidth,a.classList.add("modal-error");for(var o=0;o<n.length;o++)n[o].value||n[o].classList.add("empty-field")}})}function map(){var e=document.querySelector(".contacts__map"),t=document.querySelector(".modal-map"),o=t.querySelector(".btn-modal-close");e.addEventListener("click",function(e){e.preventDefault(),t.classList.add("modal__show")}),o.addEventListener("click",function(e){e.preventDefault(),t.classList.remove("modal__show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),t.classList.contains("modal__show")&&t.classList.remove("modal__show"))})}0<=currentLocation.pathname.lastIndexOf("/index.html")&&(writeUs(),map());